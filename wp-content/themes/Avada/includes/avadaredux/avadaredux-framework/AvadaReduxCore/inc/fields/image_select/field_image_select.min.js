!function(a){"use strict";avadaredux.field_objects=avadaredux.field_objects||{},avadaredux.field_objects.image_select=avadaredux.field_objects.image_select||{},a(document).ready(function(){}),avadaredux.field_objects.image_select.init=function(b){b||(b=a(document).find(".avadaredux-group-tab:visible").find(".avadaredux-container-image_select:visible")),a(b).each(function(){var b=a(this),c=b;b.hasClass("avadaredux-field-container")||(c=b.parents(".avadaredux-field-container:first")),c.is(":hidden")||c.hasClass("avadaredux-field-init")&&(c.removeClass("avadaredux-field-init"),b.find(".avadaredux-image-select label img, .avadaredux-image-select label .tiles").click(function(c){var d=a(this).closest("label").attr("for");if(a(this).parents("fieldset:first").find(".avadaredux-image-select-selected").removeClass("avadaredux-image-select-selected").find("input[type='radio']").attr("checked",!1),a(this).closest("label").find('input[type="radio"]').prop("checked"),a(this).closest("label").hasClass("avadaredux-image-select-preset-"+d)){c.preventDefault();var e=a(this).closest("label").find("input"),f=e.data("presets"),g=e.data("merge");if(void 0!==g&&null!==g&&("string"===a.type(g)&&(g=g.split("|")),a.each(f,function(b,c){g!==!0&&-1==a.inArray(b,g)||"object"!==a.type(avadaredux.options[b])||(f[b]=a.extend(avadaredux.options[b],f[b]))})),void 0!==e&&null!==e){var h=confirm(avadaredux.args.preset_confirm);h&&(b.find('label[for="'+d+'"]').addClass("avadaredux-image-select-selected").find("input[type='radio']").attr("checked",!0),window.onbeforeunload=null,0===a("#import-code-value").length?a(this).append('<textarea id="import-code-value" style="display:none;" name="'+avadaredux.args.opt_name+'[import_code]">'+JSON.stringify(f)+"</textarea>"):a("#import-code-value").val(JSON.stringify(f)),0!==a("#publishing-action #publish").length?a("#publish").click():a("#avadaredux-import").click())}return!1}b.find('label[for="'+d+'"]').addClass("avadaredux-image-select-selected").find("input[type='radio']").attr("checked",!0).trigger("change"),avadaredux_change(a(this).closest("label").find('input[type="radio"]'))}),b.find(".tiles").qtip({content:{text:function(b,c){return"<img src='"+a(this).attr("rel")+"' style='max-width:150px;' alt='' />"}},style:"qtip-tipsy",position:{my:"top center",at:"bottom center"}}))})}}(jQuery);
