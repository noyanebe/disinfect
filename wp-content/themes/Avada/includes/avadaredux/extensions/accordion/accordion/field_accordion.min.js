(function(a){avadaredux.field_objects=avadaredux.field_objects||{};avadaredux.field_objects.accordion=avadaredux.field_objects.accordion||{};avadaredux.field_objects.accordion.init=function(b){if(!b){b=a(document).find(".avadaredux-group-tab:visible").find(".avadaredux-container-accordion:visible")}a(b).each(function(){var e=a(this);var d=e;if(!e.hasClass("avadaredux-field-container")){d=e.parents(".avadaredux-field-container:first")}if(d.hasClass("avadaredux-field-init")){d.removeClass("avadaredux-field-init")}else{return}var h=e.attr("data-id");a("#accordion-"+h+"-marker").parents("tr:first").css({display:"none"}).prev("tr").css("border-bottom","none");var g=a("#accordion-"+h+"-marker").parents(".avadaredux-group-tab:first");if(!g.hasClass("accordionsChecked")){g.addClass("accordionsChecked");var j=g.find(".avadaredux-accordion-indent-start h3");a.each(j,function(k,l){a(l).css("margin-top","20px")});if(g.find("h3:first").css("margin-top")=="20px"){g.find("h3:first").css("margin-top","0")}var i=a("#accordion-"+h+"-marker");var c=i.data("open-icon");var f=i.data("close-icon");g.find(".avadaredux-accordion-field").click(function(k){k.preventDefault();var l=a(this).attr("id");if(a("#accordion-table-"+l).closest("div").is(":visible")){a(this).find(".el").removeClass(f).addClass(c);a("#accordion-table-"+l).closest("div").slideUp()}else{a("#accordion-table-"+l).closest("div").slideDown();a.avadaredux.initFields();a(this).find(".el").removeClass(c).addClass(f)}});g.find(".avadaredux-accordion-field").each(function(){var l=a(this).data("position");if(l==="start"){var n=Boolean(a(this).data("dev-mode"));if(n===true){var k=a(this).data("version");var m=a("div.avadaredux-timer").html();if(m!==undefined){var q=m.indexOf("Accordion Field");if(q===-1){a("div.avadaredux-timer").html(m+"<br/>Accordion Field extension v."+k)}}}var p=a(this).attr("id");var o=Boolean(a(this).data("state"));a("#accordion-table-"+p).wrapAll('<div class="avadaredux-accordian-wrap"/>');if(o===false){a("#accordion-table-"+p).closest("div").hide()}else{a(this).find(".el").removeClass(c).addClass(f)}}})}})}})(jQuery);
